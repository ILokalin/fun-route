# Интерактивный редактор маршрута #Fun-Route
[![Build Status](https://travis-ci.com/ILokalin/fun-route.svg?branch=master)](https://travis-ci.com/ILokalin/fun-route)

Тестовый проект на React.js + Яндекс.Карты для составления и редактирования маршрута. 

Позволяет задавать начальную, конечную и промежуточные точки маршрута, выбирая их на карте. Для каждой точки маршрута можно посмотреть ее адрес, координаты в градусах (широта, долгота), указать и получить собственное название.

Предусмотрена возможность смены последовательности точек в маршруте: кнопками вверх/вниз и путем перетаскивания элемента в списке. Перемещая точки на карте, в списке меняется адрес и координаты, соответствуя новому положению. Указанное для точки название остается без изменения.

Маршрут визуально представлен в двух вариантах: ломаная линия и мультимаршрут с расчетом расстояния и указания дорог для передвижения. 

## **Демонстрация работы** 

![Website](https://img.shields.io/website?up_message=online&url=https%3A%2F%2Ffun-route.lokalin.ru%2F)

[На сайте: www.fun-route.lokalin.ru](https://fun-route.lokalin.ru)

[Видео демонстрация](https://youtu.be/maRULCKDRGs)

## **Установка и запуск проекта**
Эта инструкция поможет вам скачать, установить и запустить приложение. В случае необходимости протестировать и выполнить сборку для загрузки на хостинг

### Необходимые компоненты
Для сборки и запуска проекта на ПК требуется установленный [node.js - доступен для скачивания: ](https://nodejs.org)<br>
Необходимо скачать проект из репозитория - воспользоваться кнопкой `Clone or download` на странице репозитория.

### Установка

Полученный архив распаковать в пустой папке, открыть терминал и перейти в папку с проектом. В терминале набрать:

**`npm i`**

Дождаться завершения скачивания используемых модулей, убедиться в отсутствии ошибок. После этого проект готов к запуску.

### Запуск проекта
Набрать команду:

**`npm start`**

Дождаться запуска проекта - откроется в окне браузера по-умолчанию. После запуска на локальном сервере, проект будет доступен по адресу: http://localhost:3000

____

## **Запуск тестов**
В приложении предусмотрены unit и e2e тестирование:

|             | unit | e2e |
|-------------|:----:|:----------:|
| Test Suites |  11  |      1     |
| Tests       |  15  |     11     |
| Snapshots   |  10  |            |

### Unit тестирование приложения
Модульные тесты проверяют соответствие собранных компонентов сделанным снимкам (Snapshots). Для тестирования набрать команду:

**`npm run test`**

Удачным прохождением тестов будет считаться:

| Test Suites | 1 skipped  | 11 passed | 11 of 12 total |
|-------------|----------:|----------:|---------:|
| Tests       | 11 skipped | 15 passed | 26 total |
| Snapshots   | **13 passed** |  13 total   | |


### e2e тестирование
Проверяет работоспособность основного функционала проекта. Перед тестированием необходимо запустить проект на локальном сервере: http:/localhost:3000

**`npm start`**

В другом окне терминала, для тестирования набрать команду:

**`npm run test:e2e`**

Удачным прохождением тестов будет считаться:

| Test Suites | 11 skipped | 1 passed | 1 of 12 total |
|-------------|-----------:|---------:|--------------:|
| Tests |  15 skipped | 11 passed | 26 total |
| Snapshots |  0 total | | |

Тест проверяет:
- ожидает окончание заставки загрузки Яндекс.карт и получение координат геолокации
- добавление новых точек в маршрут с указанием имени
- перенос точки на карте и изменение адреса
- возможность изменить отображение маршрута
- смену порядка точек в маршруте, используя кнопки
- переход на страницу помощи и возвращение в раздел карты
- сохранение точек при возвращении и возможность их удаления

Изменение порядка маршрутных точек путем перетаскивая, получение подсветки для места вставки - тестируется вручную.

### Полное тестирование
Запуск unit и e2e тестов. Для прохождения необходимо запустить проект на локальном сервере и запустить скрипт полного тестирования:

**`npm start`**

**`npm run test:all`**

## **Сборка проекта и подготовка загрузки на хостинг**
Для сборки проекта, в окне терминала набрать команду:

**`npm build`**

Дождаться окончания сборки и перенести файлы из папки `build` на хостинг. Проект организован по принципу SPA приложения и работает с `react-router-dom`. Дополнительная конфигурация хостинга не требуется - необходимые настройки и файлы включены в проект. 

## **Инструментарий**
- Яндекс.Карты
- React.js
- Jest + Puppeteer + Faker

В работе и оформлении кода придерживался рекомендаций:
- [Airbnb JavaScript Style Guide](https://github.com/airbnb/javascript)
- [Airbnb React/JSX Style Guide](https://github.com/airbnb/javascript/tree/master/react)

## **Автор**
- [Ilya Lokain](https://github.com/ILokalin)
